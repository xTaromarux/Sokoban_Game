\hypertarget{_collider_component_8h_source}{}\doxysection{C\+:/\+Users/slawe/source/repos/93b730f0-\/gr23-\/repo/\+Projekt/\+Sokoban/\+Sokoban/\+Collider\+Component.h}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include "{}string"{}}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include "{}SDL.h"{}}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}ComponentSystem.h"{}}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}TransformComponent.h"{}}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}TextureManager.h"{}}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{comment}{//* klasa dzieki ktorej mozliwa jest kolizja obiektow}}
\DoxyCodeLine{9 \textcolor{keyword}{class }\mbox{\hyperlink{class_collider_component}{ColliderComponent}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_component}{Component}} \{}
\DoxyCodeLine{10 \textcolor{keyword}{public}:}
\DoxyCodeLine{11     \textcolor{comment}{//* zienna dot. nazwy}}
\DoxyCodeLine{12     std::string tag;}
\DoxyCodeLine{13 }
\DoxyCodeLine{14     \textcolor{comment}{//* przywolanie zmiennych z biblioteki graficznej dot. tekstur}}
\DoxyCodeLine{15     SDL\_Rect collider;}
\DoxyCodeLine{16     SDL\_Texture* tex;}
\DoxyCodeLine{17     SDL\_Rect srcR, destR;}
\DoxyCodeLine{18 }
\DoxyCodeLine{19     \textcolor{comment}{//* wskaznik do klasu TransformComponent}}
\DoxyCodeLine{20     \mbox{\hyperlink{class_transform_component}{TransformComponent}}* transform;}
\DoxyCodeLine{21 }
\DoxyCodeLine{22     \textcolor{comment}{//* konstruktow z zawartoscia}}
\DoxyCodeLine{23     \textcolor{comment}{//* nazwa}}
\DoxyCodeLine{24     \mbox{\hyperlink{class_collider_component}{ColliderComponent}}(std::string t) \{}
\DoxyCodeLine{25         tag = t;}
\DoxyCodeLine{26     \}}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \textcolor{comment}{//* konstruktow z zawartoscia}}
\DoxyCodeLine{29     \textcolor{comment}{//* nazwa}}
\DoxyCodeLine{30     \textcolor{comment}{//* pozycja w osi x}}
\DoxyCodeLine{31     \textcolor{comment}{//* pozycja w osi y}}
\DoxyCodeLine{32     \textcolor{comment}{//* wielkosc }}
\DoxyCodeLine{33     \mbox{\hyperlink{class_collider_component}{ColliderComponent}}(std::string t, \textcolor{keywordtype}{int} xpos, \textcolor{keywordtype}{int} ypos, \textcolor{keywordtype}{int} size)}
\DoxyCodeLine{34     \{}
\DoxyCodeLine{35         tag = t;}
\DoxyCodeLine{36         collider.x = xpos;}
\DoxyCodeLine{37         collider.y = ypos;}
\DoxyCodeLine{38         collider.h = collider.w = size;}
\DoxyCodeLine{39     \}}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     \textcolor{comment}{//* funkcja inicjalizacyjna, odwolujaca sie do klasy virtualnej bazowej}}
\DoxyCodeLine{42     \textcolor{keywordtype}{void} init()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{43         \textcolor{keywordflow}{if} (!entity-\/>hasComponent<\mbox{\hyperlink{class_transform_component}{TransformComponent}}>()) \{}
\DoxyCodeLine{44             entity-\/>addComponent<\mbox{\hyperlink{class_transform_component}{TransformComponent}}>();}
\DoxyCodeLine{45         \}}
\DoxyCodeLine{46         transform = \&entity-\/>getComponent<\mbox{\hyperlink{class_transform_component}{TransformComponent}}>();}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     \}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50     \textcolor{comment}{//* funkcja odsiwierzajaca kolizje, odwolujaca sie do klasy virtualnej bazowej}}
\DoxyCodeLine{51     \textcolor{keywordtype}{void} update()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{52         \textcolor{keywordflow}{if} (tag != \textcolor{stringliteral}{"{}wall"{}} \&\& tag != \textcolor{stringliteral}{"{}box"{}}) \{}
\DoxyCodeLine{53             collider.x = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(transform-\/>position.x);}
\DoxyCodeLine{54             collider.y = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(transform-\/>position.y);}
\DoxyCodeLine{55             collider.w = transform-\/>width * transform-\/>scale;}
\DoxyCodeLine{56             collider.h = transform-\/>height * transform-\/>scale;}
\DoxyCodeLine{57         \}}
\DoxyCodeLine{58 }
\DoxyCodeLine{59     \}}
\DoxyCodeLine{60 }
\DoxyCodeLine{61     \textcolor{comment}{//* funkcja wyswietlajaca teksture, odwolujaca sie do klasy virtualnej bazowej}}
\DoxyCodeLine{62     \textcolor{keywordtype}{void} draw()\textcolor{keyword}{ override}}
\DoxyCodeLine{63 \textcolor{keyword}{    }\{}
\DoxyCodeLine{64         TextureManager::Draw(tex, srcR, destR, SDL\_FLIP\_NONE);}
\DoxyCodeLine{65     \}}
\DoxyCodeLine{66 }
\DoxyCodeLine{67 \};}

\end{DoxyCode}
